import{u as ie,f as le,a as de,P as ue,L as me,j as s,c as M,m as pe}from"./clsx-ad8f5877.js";import{r as e}from"./index-8a57d176.js";import{B as z}from"./Button-82637ab6.js";import"./_commonjsHelpers-725317a4.js";function ce(){const r=e.useRef(!1);return ie(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function fe(){const r=ce(),[o,a]=e.useState(0),i=e.useCallback(()=>{r.current&&a(o+1)},[o]);return[e.useCallback(()=>le.postRender(i),[i]),o]}class he extends e.Component{getSnapshotBeforeUpdate(o){const a=this.props.childRef.current;if(a&&o.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xe({children:r,isPresent:o}){const a=e.useId(),i=e.useRef(null),b=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:f,height:h,top:m,left:x}=b.current;if(o||!i.current||!f||!h)return;i.current.dataset.motionPopId=a;const g=document.createElement("style");return document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[o]),e.createElement(he,{isPresent:o,childRef:i,sizeRef:b},e.cloneElement(r,{ref:i}))}const T=({children:r,initial:o,isPresent:a,onExitComplete:i,custom:b,presenceAffectsLayout:f,mode:h})=>{const m=de(ge),x=e.useId(),g=e.useMemo(()=>({id:x,initial:o,isPresent:a,custom:b,onExitComplete:n=>{m.set(n,!0);for(const p of m.values())if(!p)return;i&&i()},register:n=>(m.set(n,!1),()=>m.delete(n))}),f?void 0:[a]);return e.useMemo(()=>{m.forEach((n,p)=>m.set(p,!1))},[a]),e.useEffect(()=>{!a&&!m.size&&i&&i()},[a]),h==="popLayout"&&(r=e.createElement(xe,{isPresent:a},r)),e.createElement(ue.Provider,{value:g},r)};function ge(){return new Map}function ye(r){return e.useEffect(()=>()=>r(),[])}const N=r=>r.key||"";function be(r,o){r.forEach(a=>{const i=N(a);o.set(i,a)})}function ke(r){const o=[];return e.Children.forEach(r,a=>{e.isValidElement(a)&&o.push(a)}),o}const je=({children:r,custom:o,initial:a=!0,onExitComplete:i,exitBeforeEnter:b,presenceAffectsLayout:f=!0,mode:h="sync"})=>{const m=e.useContext(me).forceRender||fe()[0],x=ce(),g=ke(r);let n=g;const p=e.useRef(new Map).current,j=e.useRef(n),v=e.useRef(new Map).current,y=e.useRef(!0);if(ie(()=>{y.current=!1,be(g,v),j.current=n}),ye(()=>{y.current=!0,v.clear(),p.clear()}),y.current)return e.createElement(e.Fragment,null,n.map(l=>e.createElement(T,{key:N(l),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:f,mode:h},l)));n=[...n];const E=j.current.map(N),k=g.map(N),D=E.length;for(let l=0;l<D;l++){const u=E[l];k.indexOf(u)===-1&&!p.has(u)&&p.set(u,void 0)}return h==="wait"&&p.size&&(n=[]),p.forEach((l,u)=>{if(k.indexOf(u)!==-1)return;const w=v.get(u);if(!w)return;const F=E.indexOf(u);let R=l;if(!R){const O=()=>{p.delete(u);const t=Array.from(v.keys()).filter(c=>!k.includes(c));if(t.forEach(c=>v.delete(c)),j.current=g.filter(c=>{const d=N(c);return d===u||t.includes(d)}),!p.size){if(x.current===!1)return;m(),i&&i()}};R=e.createElement(T,{key:N(w),isPresent:!1,onExitComplete:O,custom:o,presenceAffectsLayout:f,mode:h},w),p.set(u,R)}n.splice(F,0,R)}),n=n.map(l=>{const u=l.key;return p.has(u)?l:e.createElement(T,{key:N(l),isPresent:!0,presenceAffectsLayout:f,mode:h},l)}),e.createElement(e.Fragment,null,p.size?n:n.map(l=>e.cloneElement(l)))};function we({title:r,titleId:o,...a},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),r?e.createElement("title",{id:o},r):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ve=e.forwardRef(we),Ee=ve;function Ne({title:r,titleId:o,...a},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),r?e.createElement("title",{id:o},r):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Re=e.forwardRef(Ne),Ce=Re;function De({title:r,titleId:o,...a},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},a),r?e.createElement("title",{id:o},r):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Me=e.forwardRef(De),Se=Me,Ae=({columns:r,data:o,loading:a=!1,searchable:i=!0,paginated:b=!0,pageSize:f=10,onRowClick:h,selectable:m=!1,onSelectionChange:x,className:g})=>{const[n,p]=e.useState(null),[j,v]=e.useState(""),[y,E]=e.useState(1),[k,D]=e.useState(new Set),l=e.useMemo(()=>{let t=[...o];return j&&(t=t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(j.toLowerCase())))),n&&t.sort((c,d)=>{const S=c[n.key],U=d[n.key];return S<U?n.direction==="asc"?-1:1:S>U?n.direction==="asc"?1:-1:0}),t},[o,j,n]),u=e.useMemo(()=>{if(!b)return l;const t=(y-1)*f;return l.slice(t,t+f)},[l,y,f,b]),w=Math.ceil(l.length/f),F=t=>{p(c=>(c==null?void 0:c.key)===t?c.direction==="asc"?{key:t,direction:"desc"}:null:{key:t,direction:"asc"})},R=t=>{const c=new Set(k);if(c.has(t)?c.delete(t):c.add(t),D(c),x){const d=o.filter(S=>c.has(S.id));x(d)}},O=()=>{if(k.size===u.length)D(new Set),x==null||x([]);else{const t=new Set(u.map(c=>c.id));D(t),x==null||x(u)}};return s.jsxs("div",{className:M("surface rounded-xl shadow-lg overflow-hidden",g),children:[i&&s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:t=>v(t.target.value),className:"input-field pl-10"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[m&&s.jsx("th",{className:"px-6 py-4 text-left",children:s.jsx("input",{type:"checkbox",checked:k.size===u.length&&u.length>0,onChange:O,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"})}),r.map(t=>s.jsx("th",{className:M("px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",t.sortable&&"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),style:{width:t.width},onClick:()=>t.sortable&&F(t.key),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:t.label}),t.sortable&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx(Ce,{className:M("w-3 h-3",(n==null?void 0:n.key)===t.key&&n.direction==="asc"?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500")}),s.jsx(Ee,{className:M("w-3 h-3 -mt-1",(n==null?void 0:n.key)===t.key&&n.direction==="desc"?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500")})]})]})},t.key))]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.jsx(je,{children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:r.length+(m?1:0),className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400"}),s.jsx("span",{className:"ml-3 text-secondary",children:"Loading..."})]})})}):u.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:r.length+(m?1:0),className:"px-6 py-12 text-center text-secondary",children:"No data available"})}):u.map((t,c)=>s.jsxs(pe.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:c*.05},className:M("surface-hover transition-colors",h&&"cursor-pointer",k.has(t.id)&&"bg-blue-50 dark:bg-blue-900/20"),onClick:()=>h==null?void 0:h(t),children:[m&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:k.has(t.id),onChange:()=>R(t.id),onClick:d=>d.stopPropagation(),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"})}),r.map(d=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-primary",children:d.render?d.render(t[d.key],t):t[d.key]},d.key))]},t.id))})})]})}),b&&w>1&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-secondary",children:["Showing ",(y-1)*f+1," to ",Math.min(y*f,l.length)," of ",l.length," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(z,{variant:"outline",size:"sm",disabled:y===1,onClick:()=>E(t=>Math.max(1,t-1)),children:"Previous"}),Array.from({length:Math.min(5,w)},(t,c)=>{const d=c+1;return s.jsx(z,{variant:y===d?"primary":"outline",size:"sm",onClick:()=>E(d),children:d},d)}),s.jsx(z,{variant:"outline",size:"sm",disabled:y===w,onClick:()=>E(t=>Math.min(w,t+1)),children:"Next"})]})]})]})},Ie={title:"Components/DataTable",component:Ae,parameters:{layout:"padded"},tags:["autodocs"]},W=[{id:1,name:"Anasuya Roy",email:"Anasuya@example.com",role:"Admin",status:"Active",joinDate:"2023-01-15"},{id:2,name:"Rudra",email:"Rudra@example.com",role:"Editor",status:"Active",joinDate:"2023-02-20"},{id:3,name:"Antika Johnson",email:"Antika@example.com",role:"Viewer",status:"Inactive",joinDate:"2023-03-10"},{id:4,name:"Brown",email:"Brown@example.com",role:"Admin",status:"Active",joinDate:"2023-04-05"},{id:5,name:"Black",email:"Black@example.com",role:"Editor",status:"Active",joinDate:"2023-05-12"}],C=[{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"role",label:"Role",sortable:!0,render:r=>s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r==="Admin"?"bg-purple-100 text-purple-800":r==="Editor"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r})},{key:"status",label:"Status",sortable:!0,render:r=>s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r})},{key:"joinDate",label:"Join Date",sortable:!0}],A={args:{columns:C,data:W}},L={args:{columns:C,data:W,selectable:!0}},P={args:{columns:C,data:[],loading:!0}},$={args:{columns:C,data:[]}},B={args:{columns:C,data:W,searchable:!1}},I={args:{columns:C,data:W,paginated:!1}};var V,_,G;A.parameters={...A.parameters,docs:{...(V=A.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    columns,
    data: sampleData
  }
}`,...(G=(_=A.parameters)==null?void 0:_.docs)==null?void 0:G.source}}};var K,J,H;L.parameters={...L.parameters,docs:{...(K=L.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    columns,
    data: sampleData,
    selectable: true
  }
}`,...(H=(J=L.parameters)==null?void 0:J.docs)==null?void 0:H.source}}};var Z,q,Q;P.parameters={...P.parameters,docs:{...(Z=P.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    columns,
    data: [],
    loading: true
  }
}`,...(Q=(q=P.parameters)==null?void 0:q.docs)==null?void 0:Q.source}}};var X,Y,ee;$.parameters={...$.parameters,docs:{...(X=$.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    columns,
    data: []
  }
}`,...(ee=(Y=$.parameters)==null?void 0:Y.docs)==null?void 0:ee.source}}};var te,re,se;B.parameters={...B.parameters,docs:{...(te=B.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    columns,
    data: sampleData,
    searchable: false
  }
}`,...(se=(re=B.parameters)==null?void 0:re.docs)==null?void 0:se.source}}};var ae,ne,oe;I.parameters={...I.parameters,docs:{...(ae=I.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    columns,
    data: sampleData,
    paginated: false
  }
}`,...(oe=(ne=I.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};const We=["Default","WithSelection","Loading","EmptyState","WithoutSearch","WithoutPagination"];export{A as Default,$ as EmptyState,P as Loading,L as WithSelection,I as WithoutPagination,B as WithoutSearch,We as __namedExportsOrder,Ie as default};
